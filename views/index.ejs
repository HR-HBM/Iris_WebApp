<!DOCTYPE html>
<html>
<head>
    <title>Retina Prediction</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <h1>Upload Retinal Image</h1>
    <form action="/predict" method="POST" enctype="multipart/form-data">
        <input type="file" name="image" accept="image/*" required>
        <button type="submit">Predict</button>
    </form>

    <% if (prediction) { %>
        <h2>Results</h2>
        <% if (prediction.error) { %>
            <p>Error: <%= prediction.error %></p>
        <% } else { %>
            <p><strong>Retinopathy:</strong> <%= prediction.retinopathy %></p>
            <p><strong>Probabilities:</strong> <%= prediction.retinopathy_probs.map(p => p.toFixed(4)).join(", ") %></p>
            <p><strong>Macular Edema:</strong> <%= prediction.edema %></p>
            <p><strong>Probabilities:</strong> <%= prediction.edema_probs.map(p => p.toFixed(4)).join(", ") %></p>
        <% } %>
    <% } %>
</body>
</html>